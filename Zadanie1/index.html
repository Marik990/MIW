<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Zadanie 1</title>

    <link rel="stylesheet" href="css/main.css" type="text/css">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <header>
        <div id="title">Zadanie 1</div>
    </header>
    <main>
        <article>
            <section>
                <div id="upload">
                    <form>
                        <label>
                            <input id="data-file" type="file" name="dataFile">
                        </label>
                        <input id="upload-data-btn" type="button" value="Załaduj">
                    </form>
                </div>
            </section>
            <section>
                <div id="board">

                </div>
            </section>
            <div id="back-btn">
                <button>Wróć</button>
            </div>
        </article>
    </main>

<script>

    var Config
    var AttributesSeparator = " "
    var RowsSeparator = "\n"
    var ColTypes = []
    var NormalizationScopes = []

    function processConfigFile() {

    }

    function processDataFileContent(rawFileContent) {
        var dataSet = createDataSet(rawFileContent)

        displayText(rawFileContent, "board")
        console.log(dataSet)
    }

    function createDataSet(rawData) {
        var lines = separateLines(rawData)
        var dataSet = separateAttributes(lines)

        return dataSet
    }
    
    function separateLines(rawData) {
        var lines = []
        for (i = 0, newLineIndex = 0; i < rawData.length; i++) {
            if (rawData.charAt(i) === RowsSeparator) {
                lines.push(rawData.substring(newLineIndex, i))
                newLineIndex = i + 1
            }
        }
        return lines
    }
    
    function separateAttributes(dataLines) {
        var dataSet = []
        for (i = 0; i < dataLines.length; i++) {
            var dataRow = []
            for (j = 0, k = 0; j < dataLines[i].length; j++) {
                if (dataLines[i].charAt(j) === AttributesSeparator) {
                    k++
                    continue
                }
                if (dataRow[k]) {
                    dataRow[k] += dataLines[i].charAt(j)
                } else {
                    dataRow[k] = dataLines[i].charAt(j)
                }
            }
            dataSet.push(dataRow)
        }
        return dataSet
    }

</script>
    <script src="additionalScripts.js" type="text/javascript"></script>
</body>
</html>